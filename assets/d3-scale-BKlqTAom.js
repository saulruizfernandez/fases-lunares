import{I as S}from"./internmap-BkD7Hj8s.js";import{r as X,b as Y,t as Z,a as N,c as _}from"./d3-array-DJclFi1f.js";import{f as $,p as nn,a as tn,b as rn,c as en,d as j}from"./d3-format-CzD4bSOQ.js";import{t as un,u as an}from"./d3-time-format-DZUSPL1N.js";import{s as H,t as on,a as cn,b as ln,c as fn,d as sn,e as gn,f as mn,g as hn,u as pn,h as dn,i as Mn,j as yn,k as kn,l as vn,m as wn,n as bn}from"./d3-time-Dz5jZYzf.js";import{a as Nn,c as L,d as P}from"./d3-interpolate-Bh4ZH23d.js";function w(n,r){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(r).domain(n);break}return this}function In(n,r){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const R=Symbol("implicit");function z(){var n=new S,r=[],a=[],t=R;function u(e){let o=n.get(e);if(o===void 0){if(t!==R)return t;n.set(e,o=r.push(e)-1)}return a[o%a.length]}return u.domain=function(e){if(!arguments.length)return r.slice();r=[],n=new S;for(const o of e)n.has(o)||n.set(o,r.push(o)-1);return u},u.range=function(e){return arguments.length?(a=Array.from(e),u):a.slice()},u.unknown=function(e){return arguments.length?(t=e,u):t},u.copy=function(){return z(r,a).unknown(t)},w.apply(u,arguments),u}function C(){var n=z().unknown(void 0),r=n.domain,a=n.range,t=0,u=1,e,o,f=!1,s=0,c=0,g=.5;delete n.unknown;function l(){var i=r().length,p=u<t,h=p?u:t,d=p?t:u;e=(d-h)/Math.max(1,i-s+c*2),f&&(e=Math.floor(e)),h+=(d-h-e*(i-s))*g,o=e*(1-s),f&&(h=Math.round(h),o=Math.round(o));var v=X(i).map(function(y){return h+e*y});return a(p?v.reverse():v)}return n.domain=function(i){return arguments.length?(r(i),l()):r()},n.range=function(i){return arguments.length?([t,u]=i,t=+t,u=+u,l()):[t,u]},n.rangeRound=function(i){return[t,u]=i,t=+t,u=+u,f=!0,l()},n.bandwidth=function(){return o},n.step=function(){return e},n.round=function(i){return arguments.length?(f=!!i,l()):f},n.padding=function(i){return arguments.length?(s=Math.min(1,c=+i),l()):s},n.paddingInner=function(i){return arguments.length?(s=Math.min(1,i),l()):s},n.paddingOuter=function(i){return arguments.length?(c=+i,l()):c},n.align=function(i){return arguments.length?(g=Math.max(0,Math.min(1,i)),l()):g},n.copy=function(){return C(r(),[t,u]).round(f).paddingInner(s).paddingOuter(c).align(g)},w.apply(l(),arguments)}function U(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return U(r())},n}function nt(){return U(C.apply(null,arguments).paddingInner(1))}function Dn(n){return function(){return n}}function An(n){return+n}var T=[0,1];function M(n){return n}function I(n,r){return(r-=n=+n)?function(a){return(a-n)/r}:Dn(isNaN(r)?NaN:.5)}function Fn(n,r){var a;return n>r&&(a=n,n=r,r=a),function(t){return Math.max(n,Math.min(r,t))}}function Sn(n,r,a){var t=n[0],u=n[1],e=r[0],o=r[1];return u<t?(t=I(u,t),e=a(o,e)):(t=I(t,u),e=a(e,o)),function(f){return e(t(f))}}function Rn(n,r,a){var t=Math.min(n.length,r.length)-1,u=new Array(t),e=new Array(t),o=-1;for(n[t]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++o<t;)u[o]=I(n[o],n[o+1]),e[o]=a(r[o],r[o+1]);return function(f){var s=Y(n,f,1,t)-1;return e[s](u[s](f))}}function b(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function D(){var n=T,r=T,a=L,t,u,e,o=M,f,s,c;function g(){var i=Math.min(n.length,r.length);return o!==M&&(o=Fn(n[0],n[i-1])),f=i>2?Rn:Sn,s=c=null,l}function l(i){return i==null||isNaN(i=+i)?e:(s||(s=f(n.map(t),r,a)))(t(o(i)))}return l.invert=function(i){return o(u((c||(c=f(r,n.map(t),Nn)))(i)))},l.domain=function(i){return arguments.length?(n=Array.from(i,An),g()):n.slice()},l.range=function(i){return arguments.length?(r=Array.from(i),g()):r.slice()},l.rangeRound=function(i){return r=Array.from(i),a=P,g()},l.clamp=function(i){return arguments.length?(o=i?!0:M,g()):o!==M},l.interpolate=function(i){return arguments.length?(a=i,g()):a},l.unknown=function(i){return arguments.length?(e=i,l):e},function(i,p){return t=i,u=p,g()}}function B(){return D()(M,M)}function Tn(n,r,a,t){var u=Z(n,r,a),e;switch(t=$(t??",f"),t.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(r));return t.precision==null&&!isNaN(e=rn(u,o))&&(t.precision=e),en(t,o)}case"":case"e":case"g":case"p":case"r":{t.precision==null&&!isNaN(e=tn(u,Math.max(Math.abs(n),Math.abs(r))))&&(t.precision=e-(t.type==="e"));break}case"f":case"%":{t.precision==null&&!isNaN(e=nn(u))&&(t.precision=e-(t.type==="%")*2);break}}return j(t)}function A(n){var r=n.domain;return n.ticks=function(a){var t=r();return N(t[0],t[t.length-1],a??10)},n.tickFormat=function(a,t){var u=r();return Tn(u[0],u[u.length-1],a??10,t)},n.nice=function(a){a==null&&(a=10);var t=r(),u=0,e=t.length-1,o=t[u],f=t[e],s,c,g=10;for(f<o&&(c=o,o=f,f=c,c=u,u=e,e=c);g-- >0;){if(c=_(o,f,a),c===s)return t[u]=o,t[e]=f,r(t);if(c>0)o=Math.floor(o/c)*c,f=Math.ceil(f/c)*c;else if(c<0)o=Math.ceil(o*c)/c,f=Math.floor(f*c)/c;else break;s=c}return n},n}function qn(){var n=B();return n.copy=function(){return b(n,qn())},w.apply(n,arguments),A(n)}function W(n,r){n=n.slice();var a=0,t=n.length-1,u=n[a],e=n[t],o;return e<u&&(o=a,a=t,t=o,o=u,u=e,e=o),n[a]=r.floor(u),n[t]=r.ceil(e),n}function q(n){return Math.log(n)}function O(n){return Math.exp(n)}function On(n){return-Math.log(-n)}function En(n){return-Math.exp(-n)}function xn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function Yn(n){return n===10?xn:n===Math.E?Math.exp:r=>Math.pow(n,r)}function $n(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),r=>Math.log(r)/n)}function E(n){return(r,a)=>-n(-r,a)}function jn(n){const r=n(q,O),a=r.domain;let t=10,u,e;function o(){return u=$n(t),e=Yn(t),a()[0]<0?(u=E(u),e=E(e),n(On,En)):n(q,O),r}return r.base=function(f){return arguments.length?(t=+f,o()):t},r.domain=function(f){return arguments.length?(a(f),o()):a()},r.ticks=f=>{const s=a();let c=s[0],g=s[s.length-1];const l=g<c;l&&([c,g]=[g,c]);let i=u(c),p=u(g),h,d;const v=f==null?10:+f;let y=[];if(!(t%1)&&p-i<v){if(i=Math.floor(i),p=Math.ceil(p),c>0){for(;i<=p;++i)for(h=1;h<t;++h)if(d=i<0?h/e(-i):h*e(i),!(d<c)){if(d>g)break;y.push(d)}}else for(;i<=p;++i)for(h=t-1;h>=1;--h)if(d=i>0?h/e(-i):h*e(i),!(d<c)){if(d>g)break;y.push(d)}y.length*2<v&&(y=N(c,g,v))}else y=N(i,p,Math.min(p-i,v)).map(e);return l?y.reverse():y},r.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=t===10?"s":","),typeof s!="function"&&(!(t%1)&&(s=$(s)).precision==null&&(s.trim=!0),s=j(s)),f===1/0)return s;const c=Math.max(1,t*f/r.ticks().length);return g=>{let l=g/e(Math.round(u(g)));return l*t<t-.5&&(l*=t),l<=c?s(g):""}},r.nice=()=>a(W(a(),{floor:f=>e(Math.floor(u(f))),ceil:f=>e(Math.ceil(u(f)))})),r}function Hn(){const n=jn(D()).domain([1,10]);return n.copy=()=>b(n,Hn()).base(n.base()),w.apply(n,arguments),n}function x(n){return function(r){return r<0?-Math.pow(-r,n):Math.pow(r,n)}}function Ln(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function Pn(n){return n<0?-n*n:n*n}function zn(n){var r=n(M,M),a=1;function t(){return a===1?n(M,M):a===.5?n(Ln,Pn):n(x(a),x(1/a))}return r.exponent=function(u){return arguments.length?(a=+u,t()):a},A(r)}function G(){var n=zn(D());return n.copy=function(){return b(n,G()).exponent(n.exponent())},w.apply(n,arguments),n}function tt(){return G.apply(null,arguments).exponent(.5)}function Cn(){var n=[.5],r=[0,1],a,t=1;function u(e){return e!=null&&e<=e?r[Y(n,e,0,t)]:a}return u.domain=function(e){return arguments.length?(n=Array.from(e),t=Math.min(n.length,r.length-1),u):n.slice()},u.range=function(e){return arguments.length?(r=Array.from(e),t=Math.min(n.length,r.length-1),u):r.slice()},u.invertExtent=function(e){var o=r.indexOf(e);return[n[o-1],n[o]]},u.unknown=function(e){return arguments.length?(a=e,u):a},u.copy=function(){return Cn().domain(n).range(r).unknown(a)},w.apply(u,arguments)}function Un(n){return new Date(n)}function Bn(n){return n instanceof Date?+n:+new Date(+n)}function F(n,r,a,t,u,e,o,f,s,c){var g=B(),l=g.invert,i=g.domain,p=c(".%L"),h=c(":%S"),d=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),J=c("%b %d"),K=c("%B"),Q=c("%Y");function V(m){return(s(m)<m?p:f(m)<m?h:o(m)<m?d:e(m)<m?v:t(m)<m?u(m)<m?y:J:a(m)<m?K:Q)(m)}return g.invert=function(m){return new Date(l(m))},g.domain=function(m){return arguments.length?i(Array.from(m,Bn)):i().map(Un)},g.ticks=function(m){var k=i();return n(k[0],k[k.length-1],m??10)},g.tickFormat=function(m,k){return k==null?V:c(k)},g.nice=function(m){var k=i();return(!m||typeof m.range!="function")&&(m=r(k[0],k[k.length-1],m??10)),m?i(W(k,m)):g},g.copy=function(){return b(g,F(n,r,a,t,u,e,o,f,s,c))},g}function rt(){return w.apply(F(hn,mn,gn,sn,fn,ln,cn,on,H,un).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function et(){return w.apply(F(bn,wn,vn,kn,yn,Mn,dn,pn,H,an).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wn(){var n=0,r=1,a,t,u,e,o=M,f=!1,s;function c(l){return l==null||isNaN(l=+l)?s:o(u===0?.5:(l=(e(l)-a)*u,f?Math.max(0,Math.min(1,l)):l))}c.domain=function(l){return arguments.length?([n,r]=l,a=e(n=+n),t=e(r=+r),u=a===t?0:1/(t-a),c):[n,r]},c.clamp=function(l){return arguments.length?(f=!!l,c):f},c.interpolator=function(l){return arguments.length?(o=l,c):o};function g(l){return function(i){var p,h;return arguments.length?([p,h]=i,o=l(p,h),c):[o(0),o(1)]}}return c.range=g(L),c.rangeRound=g(P),c.unknown=function(l){return arguments.length?(s=l,c):s},function(l){return e=l,a=l(n),t=l(r),u=a===t?0:1/(t-a),c}}function Gn(n,r){return r.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Jn(){var n=A(Wn()(M));return n.copy=function(){return Gn(n,Jn())},In.apply(n,arguments)}export{Hn as a,Cn as b,Jn as c,C as d,nt as e,qn as l,z as o,G as p,tt as s,rt as t,et as u};
