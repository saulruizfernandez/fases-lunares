import{P as sn}from"./d3-path-CimkQT29.js";function a(n){return function(){return n}}const H=Math.cos,P=Math.sin,y=Math.sqrt,V=1e-12,E=Math.PI,x=2*E;function I(n){let t=3;return n.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const e=Math.floor(i);if(!(e>=0))throw new RangeError(`invalid digits: ${i}`);t=e}return n},()=>new sn(t)}function O(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function J(n){this._context=n}J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function K(n){return new J(n)}function Q(n){return n[0]}function U(n){return n[1]}function un(n,t){var i=a(!0),e=null,r=K,o=null,u=I(s);n=typeof n=="function"?n:n===void 0?Q:a(n),t=typeof t=="function"?t:t===void 0?U:a(t);function s(l){var f,h=(l=O(l)).length,c,_=!1,g;for(e==null&&(o=r(g=u())),f=0;f<=h;++f)!(f<h&&i(c=l[f],f,l))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+n(c,f,l),+t(c,f,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(n=typeof l=="function"?l:a(+l),s):n},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:a(+l),s):t},s.defined=function(l){return arguments.length?(i=typeof l=="function"?l:a(!!l),s):i},s.curve=function(l){return arguments.length?(r=l,e!=null&&(o=r(e)),s):r},s.context=function(l){return arguments.length?(l==null?e=o=null:o=r(e=l),s):e},s}function Pn(n,t,i){var e=null,r=a(!0),o=null,u=K,s=null,l=I(f);n=typeof n=="function"?n:n===void 0?Q:a(+n),t=typeof t=="function"?t:a(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?U:a(+i);function f(c){var _,g,p,v=(c=O(c)).length,T,k=!1,b,S=new Array(v),w=new Array(v);for(o==null&&(s=u(b=l())),_=0;_<=v;++_){if(!(_<v&&r(T=c[_],_,c))===k)if(k=!k)g=_,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=_-1;p>=g;--p)s.point(S[p],w[p]);s.lineEnd(),s.areaEnd()}k&&(S[_]=+n(T,_,c),w[_]=+t(T,_,c),s.point(e?+e(T,_,c):S[_],i?+i(T,_,c):w[_]))}if(b)return s=null,b+""||null}function h(){return un().defined(r).curve(u).context(o)}return f.x=function(c){return arguments.length?(n=typeof c=="function"?c:a(+c),e=null,f):n},f.x0=function(c){return arguments.length?(n=typeof c=="function"?c:a(+c),f):n},f.x1=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:a(+c),f):e},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:a(+c),i=null,f):t},f.y0=function(c){return arguments.length?(t=typeof c=="function"?c:a(+c),f):t},f.y1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:a(+c),f):i},f.lineX0=f.lineY0=function(){return h().x(n).y(t)},f.lineY1=function(){return h().x(n).y(i)},f.lineX1=function(){return h().x(e).y(t)},f.defined=function(c){return arguments.length?(r=typeof c=="function"?c:a(!!c),f):r},f.curve=function(c){return arguments.length?(u=c,o!=null&&(s=u(o)),f):u},f.context=function(c){return arguments.length?(c==null?o=s=null:s=u(o=c),f):o},f}function ln(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function cn(n){return n}function En(){var n=cn,t=ln,i=null,e=a(0),r=a(x),o=a(0);function u(s){var l,f=(s=O(s)).length,h,c,_=0,g=new Array(f),p=new Array(f),v=+e.apply(this,arguments),T=Math.min(x,Math.max(-x,r.apply(this,arguments)-v)),k,b=Math.min(Math.abs(T)/f,o.apply(this,arguments)),S=b*(T<0?-1:1),w;for(l=0;l<f;++l)(w=p[g[l]=l]=+n(s[l],l,s))>0&&(_+=w);for(t!=null?g.sort(function(q,R){return t(p[q],p[R])}):i!=null&&g.sort(function(q,R){return i(s[q],s[R])}),l=0,c=_?(T-f*S)/_:0;l<f;++l,v=k)h=g[l],w=p[h],k=v+(w>0?w*c:0)+S,p[h]={data:s[h],index:l,value:w,startAngle:v,endAngle:k,padAngle:b};return p}return u.value=function(s){return arguments.length?(n=typeof s=="function"?s:a(+s),u):n},u.sortValues=function(s){return arguments.length?(t=s,i=null,u):t},u.sort=function(s){return arguments.length?(i=s,t=null,u):i},u.startAngle=function(s){return arguments.length?(e=typeof s=="function"?s:a(+s),u):e},u.endAngle=function(s){return arguments.length?(r=typeof s=="function"?s:a(+s),u):r},u.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:a(+s),u):o},u}const Z={draw(n,t){const i=y(t/E);n.moveTo(i,0),n.arc(0,0,i,0,x)}},fn={draw(n,t){const i=y(t/5)/2;n.moveTo(-3*i,-i),n.lineTo(-i,-i),n.lineTo(-i,-3*i),n.lineTo(i,-3*i),n.lineTo(i,-i),n.lineTo(3*i,-i),n.lineTo(3*i,i),n.lineTo(i,i),n.lineTo(i,3*i),n.lineTo(-i,3*i),n.lineTo(-i,i),n.lineTo(-3*i,i),n.closePath()}},$=y(1/3),an=$*2,_n={draw(n,t){const i=y(t/an),e=i*$;n.moveTo(0,-i),n.lineTo(e,0),n.lineTo(0,i),n.lineTo(-e,0),n.closePath()}},hn={draw(n,t){const i=y(t),e=-i/2;n.rect(e,e,i,i)}},pn=.8908130915292852,j=P(E/10)/P(7*E/10),gn=P(x/10)*j,vn=-H(x/10)*j,mn={draw(n,t){const i=y(t*pn),e=gn*i,r=vn*i;n.moveTo(0,-i),n.lineTo(e,r);for(let o=1;o<5;++o){const u=x*o/5,s=H(u),l=P(u);n.lineTo(l*i,-s*i),n.lineTo(s*e-l*r,l*e+s*r)}n.closePath()}},z=y(3),dn={draw(n,t){const i=-y(t/(z*3));n.moveTo(0,i*2),n.lineTo(-z*i,-i),n.lineTo(z*i,-i),n.closePath()}},m=-.5,d=y(3)/2,Y=1/y(12),Tn=(Y/2+1)*3,yn={draw(n,t){const i=y(t/Tn),e=i/2,r=i*Y,o=e,u=i*Y+i,s=-o,l=u;n.moveTo(e,r),n.lineTo(o,u),n.lineTo(s,l),n.lineTo(m*e-d*r,d*e+m*r),n.lineTo(m*o-d*u,d*o+m*u),n.lineTo(m*s-d*l,d*s+m*l),n.lineTo(m*e+d*r,m*r-d*e),n.lineTo(m*o+d*u,m*u-d*o),n.lineTo(m*s+d*l,m*l-d*s),n.closePath()}},Mn=[Z,fn,_n,hn,mn,dn,yn];function On(n,t){let i=null,e=I(r);n=typeof n=="function"?n:a(n||Z),t=typeof t=="function"?t:a(t===void 0?64:+t);function r(){let o;if(i||(i=o=e()),n.apply(this,arguments).draw(i,+t.apply(this,arguments)),o)return i=null,o+""||null}return r.type=function(o){return arguments.length?(n=typeof o=="function"?o:a(o),r):n},r.size=function(o){return arguments.length?(t=typeof o=="function"?o:a(+o),r):t},r.context=function(o){return arguments.length?(i=o??null,r):i},r}function D(n,t,i){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-i),n._x2,n._y2)}function L(n,t){this._context=n,this._k=(1-t)/6}L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:D(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:D(this,n,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};(function n(t){function i(e){return new L(e,t)}return i.tension=function(e){return n(+e)},i})(0);function kn(n,t,i){var e=n._x1,r=n._y1,o=n._x2,u=n._y2;if(n._l01_a>V){var s=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,l=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*s-n._x0*n._l12_2a+n._x2*n._l01_2a)/l,r=(r*s-n._y0*n._l12_2a+n._y2*n._l01_2a)/l}if(n._l23_a>V){var f=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,h=3*n._l23_a*(n._l23_a+n._l12_a);o=(o*f+n._x1*n._l23_2a-t*n._l12_2a)/h,u=(u*f+n._y1*n._l23_2a-i*n._l12_2a)/h}n._context.bezierCurveTo(e,r,o,u,n._x2,n._y2)}function nn(n,t){this._context=n,this._alpha=t}nn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var i=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:kn(this,n,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Cn=function n(t){function i(e){return t?new nn(e,t):new L(e,0)}return i.alpha=function(e){return n(+e)},i}(.5);function B(n){return n<0?-1:1}function F(n,t,i){var e=n._x1-n._x0,r=t-n._x1,o=(n._y1-n._y0)/(e||r<0&&-0),u=(i-n._y1)/(r||e<0&&-0),s=(o*r+u*e)/(e+r);return(B(o)+B(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(s))||0}function W(n,t){var i=n._x1-n._x0;return i?(3*(n._y1-n._y0)/i-t)/2:t}function X(n,t,i){var e=n._x0,r=n._y0,o=n._x1,u=n._y1,s=(o-e)/3;n._context.bezierCurveTo(e+s,r+s*t,o-s,u-s*i,o,u)}function M(n){this._context=n}M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X(this,this._t0,W(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var i=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,X(this,W(this,i=F(this,n,t)),i);break;default:X(this,this._t0,i=F(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=i}}};function tn(n){this._context=new en(n)}(tn.prototype=Object.create(M.prototype)).point=function(n,t){M.prototype.point.call(this,t,n)};function en(n){this._context=n}en.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,i,e,r,o){this._context.bezierCurveTo(t,n,e,i,o,r)}};function qn(n){return new M(n)}function Rn(n){return new tn(n)}function on(n){this._context=n}on.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,i=n.length;if(i)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),i===2)this._context.lineTo(n[1],t[1]);else for(var e=G(n),r=G(t),o=0,u=1;u<i;++o,++u)this._context.bezierCurveTo(e[0][o],r[0][o],e[1][o],r[1][o],n[u],t[u]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function G(n){var t,i=n.length-1,e,r=new Array(i),o=new Array(i),u=new Array(i);for(r[0]=0,o[0]=2,u[0]=n[0]+2*n[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,u[t]=4*n[t]+2*n[t+1];for(r[i-1]=2,o[i-1]=7,u[i-1]=8*n[i-1]+n[i],t=1;t<i;++t)e=r[t]/o[t-1],o[t]-=e,u[t]-=e*u[t-1];for(r[i-1]=u[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(u[t]-r[t+1])/o[t];for(o[i-1]=(n[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*n[t+1]-r[t+1];return[r,o]}function zn(n){return new on(n)}function C(n,t){this._context=n,this._t=t}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var i=this._x*(1-this._t)+n*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=n,this._y=t}};function Xn(n){return new C(n,.5)}function Yn(n){return new C(n,0)}function In(n){return new C(n,1)}function N(n,t){if((u=n.length)>1)for(var i=1,e,r,o=n[t[0]],u,s=o.length;i<u;++i)for(r=o,o=n[t[i]],e=0;e<s;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function A(n){for(var t=n.length,i=new Array(t);--t>=0;)i[t]=t;return i}function wn(n,t){return n[t]}function xn(n){const t=[];return t.key=n,t}function Ln(){var n=a([]),t=A,i=N,e=wn;function r(o){var u=Array.from(n.apply(this,arguments),xn),s,l=u.length,f=-1,h;for(const c of o)for(s=0,++f;s<l;++s)(u[s][f]=[0,+e(c,u[s].key,f,o)]).data=c;for(s=0,h=O(t(u));s<l;++s)u[h[s]].index=s;return i(u,h),u}return r.keys=function(o){return arguments.length?(n=typeof o=="function"?o:a(Array.from(o)),r):n},r.value=function(o){return arguments.length?(e=typeof o=="function"?o:a(+o),r):e},r.order=function(o){return arguments.length?(t=o==null?A:typeof o=="function"?o:a(Array.from(o)),r):t},r.offset=function(o){return arguments.length?(i=o??N,r):i},r}function Vn(n,t){if((e=n.length)>0){for(var i,e,r=0,o=n[0].length,u;r<o;++r){for(u=i=0;i<e;++i)u+=n[i][r][1]||0;if(u)for(i=0;i<e;++i)n[i][r][1]/=u}N(n,t)}}function Dn(n,t){if((l=n.length)>0)for(var i,e=0,r,o,u,s,l,f=n[t[0]].length;e<f;++e)for(u=s=0,i=0;i<l;++i)(o=(r=n[t[i]][e])[1]-r[0])>0?(r[0]=u,r[1]=u+=o):o<0?(r[1]=s,r[0]=s+=o):(r[0]=0,r[1]=o)}function Bn(n,t){if((r=n.length)>0){for(var i=0,e=n[t[0]],r,o=e.length;i<o;++i){for(var u=0,s=0;u<r;++u)s+=n[u][i][1]||0;e[i][1]+=e[i][0]=-s/2}N(n,t)}}function Fn(n,t){if(!(!((u=n.length)>0)||!((o=(r=n[t[0]]).length)>0))){for(var i=0,e=1,r,o,u;e<o;++e){for(var s=0,l=0,f=0;s<u;++s){for(var h=n[t[s]],c=h[e][1]||0,_=h[e-1][1]||0,g=(c-_)/2,p=0;p<s;++p){var v=n[t[p]],T=v[e][1]||0,k=v[e-1][1]||0;g+=T-k}l+=c,f+=g*c}r[e-1][1]+=r[e-1][0]=i,l&&(i-=f/l)}r[e-1][1]+=r[e-1][0]=i,N(n,t)}}function bn(n){var t=n.map(Sn);return A(n).sort(function(i,e){return t[i]-t[e]})}function Sn(n){for(var t=-1,i=0,e=n.length,r,o=-1/0;++t<e;)(r=+n[t][1])>o&&(o=r,i=t);return i}function Nn(n){var t=n.map(rn);return A(n).sort(function(i,e){return t[i]-t[e]})}function rn(n){for(var t=0,i=-1,e=n.length,r;++i<e;)(r=+n[i][1])&&(t+=r);return t}function Wn(n){return Nn(n).reverse()}function Gn(n){var t=n.length,i,e,r=n.map(rn),o=bn(n),u=0,s=0,l=[],f=[];for(i=0;i<t;++i)e=o[i],u<s?(u+=r[e],l.push(e)):(s+=r[e],f.push(e));return f.reverse().concat(l)}function Hn(n){return A(n).reverse()}export{On as S,Nn as a,Wn as b,Gn as c,bn as d,A as e,Hn as f,Vn as g,Dn as h,N as i,Bn as j,Fn as k,Ln as l,En as m,qn as n,Yn as o,Xn as p,zn as q,Rn as r,In as s,K as t,Cn as u,Pn as v,un as w,Mn as x};
